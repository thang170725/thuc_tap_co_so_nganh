{% extends 'base.html' %}
{% load static %}

{% block title %}Bảng điểm cá nhân{% endblock title %}

{% block page_css %}
    <link rel="stylesheet" href="{% static 'style/grades.css' %}">
    <link rel="stylesheet" href="{% static 'style/general.css' %}">
{% endblock page_css %}

{% block add_sidebar %}
    <a href="{% url 'student_my_grades' %}" class="nav-item active">
        <i class="fa-solid fa-graduation-cap"></i> Xem bảng điểm
    </a>
{% endblock add_sidebar %}

{% block user_info %}
    <div class="get-username" data-student="{{studentId}}" data-role="{{ user_role }}">
        Xin chào, {{ username }}<br> 
        <span style="font-size: 16px;">Sinh viên</span>
    </div>
{% endblock user_info %}

{% block content %}
    <div class="classes-list">
        <section class="week-view">
            <ul class="week-days"></ul>
            <div id="weather-container"></div>
        </section>

        <div class="grades-container">
            <h2>Bảng điểm cá nhân</h2>

            <table class="grade-table">
                <thead>
                    <tr>
                        <th>Môn học</th>
                        <th>Mã lớp</th>
                        <th>Số tín chỉ</th>
                        <th>Thường Xuyên 1</th>
                        <th>Thường Xuyên 2</th>
                        <th>Giữa kỳ</th>
                        <th>Cuối kỳ</th>
                        <th>Tổng kết</th>
                        <th>Thời Gian</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in grades_list %}
                    <tr>
                        <td class="left-align">{{ item.course_name }}</td>
                        <td>{{ item.class_id }}</td>
                        <td>{{ item.credits }}</td>
                        <td>{{ item.tx1|default:"-" }}</td>
                        <td>{{ item.tx2|default:"-" }}</td>
                        <td>{{ item.giua_ky|default:"-" }}</td>
                        <td>{{ item.cuoi_ky|default:"-" }}</td>
                        <td class="total-score {% if item.diem_trung_binh < 4 %}fail{% else %}pass{% endif %}">
                            {{ item.diem_trung_binh|default:"Chưa có" }}
                        </td>
                        <td>{{ item.created_at}}</td>
                    </tr>
                    {% empty %}
                        <tr>
                            <td colspan="8">Bạn chưa có điểm môn học nào.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock content %}

{% block scripts %}
    <script src="{% static 'style/student_home_api.js' %}"></script>
    <script src="{% static 'style/general_student.js' %}"></script>
{% endblock scripts %}
